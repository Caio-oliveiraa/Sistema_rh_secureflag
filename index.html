<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yaldabaoth Bank - Sistema de RH</title>
</head>
<body>
    <style>   
Body {  
  font-family: Calibri, Helvetica, sans-serif;  
  background-color: rgb(248, 178, 178);  
}  
button {   
       background-color: #306e32;   
       width: 100%;  
        color: orange;   
        padding: 15px;   
        margin: 10px 0px;   
        border: none;   
        cursor: pointer;   
         }   
 form {   
        border: 3px solid #f1f1f1;   
    }   
 input[type=text], input[type=password] {   
        width: 100%;   
        margin: 8px 0;  
        padding: 12px 20px;   
        display: inline-block;   
        border: 2px solid green;   
        box-sizing: border-box;   
    }  
 button:hover {   
        opacity: 0.7;   
    }   
  .cancelbtn {   
        width: auto;   
        padding: 10px 18px;  
        margin: 10px 5px;  
    }   
        
     
 .container {   
        padding: 25px;   
        background-color: lightblue;  
    }   
</style>   
</head>    
<body>    
    <center> <h1> Sistema de RH </h1> </center>   
 <form id="loginForm">  
    <div class="container">   
      <label>Usuário: </label>   
      <input type="text" placeholder="Nome de usuário" id="email" required>  

      <label>Senha : </label>   
      <input type="password" placeholder="Senha de acesso" id="senha" required>  

      <button type="submit">Login</button>   
      <p class="erro" id="erro"></p>
    </div>   
  </form>
    <!--//TODO:Precisamos melhorar a action de listar registros SecureFlag{CaiuNaRedeÉPeixe} -->

    <script>
    const emailCorreto = "sebastiao.santos@yaldabaothbank.com";
    const senhaCorreta = "kRzM36SU9e";

    document.getElementById("loginForm").addEventListener("submit", function(e) {
      e.preventDefault(); // Impede o envio real do form
      
      const email = document.getElementById("email").value;
      const senha = document.getElementById("senha").value;
      const erro = document.getElementById("erro");

      if (email === emailCorreto && senha === senhaCorreta) {
        // Armazena o nome do usuário (opcional)
        localStorage.setItem("usuario", email);
        // Redireciona sem mostrar nada na URL
        window.location.href = "action=registrar.html";
      } else {
        erro.textContent = "Email ou senha incorretos!";
      }
    });

    // Função para renderizar a página "registrar"
function renderRegistrar() {
  app.innerHTML = `
    <h2>Seu aumento será creditado no próximo pagamento!</h2>
    <button id="listarBtn">Ir para Listar</button>
  `;
  document.getElementById("listarBtn").addEventListener("click", function(){
    history.pushState({page:'listar'}, '', '/listar');
    renderListar();
  });
}

// Função para renderizar a página "listar"
function renderListar() {
  app.innerHTML = `
    <h2>Listar Registros</h2>
    <p>Aqui você poderia listar registros...</p>
    <button id="voltarLogin">Voltar ao Login</button>
  `;
  document.getElementById("voltarLogin").addEventListener("click", function(){
    history.pushState({page:'login'}, '', '/');
    renderLogin();
  });
}

// Detecta a URL e carrega a página correta
function route() {
  const path = window.location.pathname;
  if(path === '/' || path === '/index.html'){
    renderLogin();
  } else if(path === '/registrar'){
    renderRegistrar();
  } else if(path === '/listar'){
    renderListar();
  } else {
    renderLogin(); // fallback
  }
}

// Lida com o botão voltar/avançar do navegador
window.onpopstate = function(){
  route();
}

// Inicializa a rota
route();
  </script>

</body>
</html>